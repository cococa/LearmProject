<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

    <!-- Basic Page Needs
  ================================================== -->
	<meta charset="utf-8">
	<title>Artistry - Free Responsive Html5 Templates</title>
	<meta name="description" content="Free Responsive Html5 Css3 Templates ">
	<meta name="author" content="">
	
    <!-- Mobile Specific Metas
  ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <!-- CSS
  ================================================== -->
  	<link rel="stylesheet" href="css/zerogrid.css">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/menu.css">
	<link rel="stylesheet" href="css/responsiveslides.css">
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <script src="js/jquery183.min.js"></script>
    <script src="js/responsiveslides.min.js"></script>
    <script>
		// You can also use "$(window).load(function() {"
		$(function () {
		  // Slideshow 
		  $("#slider").responsiveSlides({
			auto: true,
			pager: false,
			nav: true,
			speed: 500,
			namespace: "callbacks",
			before: function () {
			  $('.events').append("<li>before event fired.</li>");
			},
			after: function () {
			  $('.events').append("<li>after event fired.</li>");
			}
		  });
		});
	</script>
	
	<!--[if lt IE 8]>
       <div style=' clear: both; text-align:center; position: relative;'>
         <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
           <img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." />
        </a>
      </div>
    <![endif]-->
    <!--[if lt IE 9]>
		<script src="js/html5.js"></script>
		<script src="js/css3-mediaqueries.js"></script>
	<![endif]-->
    
</head>
<body>
<div class="wrap-body">

<!--////////////////////////////////////Header-->
<header>
	<div class="top-header">
		<div class="zerogrid">
			<nav id="menu-wrap"><div id="menu-trigger">Menu</div>    
				<ul id="menu" style="display: none;">
					<li><a href="index.html">主页</a></li>
					
					<li><a href="single.html">关于</a></li>
					<li><a href="contact.html">联系我</a></li>
					
				</ul>
			</nav>
		</div>
	</div>
	<div class="clearfix">
		<div class="wrap-header">
			<div class="row">
				<div class="col-full t-center">
					<div class="wrap-col">
						<div class="logo"><a href="index.html"><h1>youweier</h1></a></div>	
						<div class="tagline">个人技术博客小站</div>
					</div>
				</div>
			</div>
		</div>
		
		<div class="slider">
			<!-- Slideshow -->
			<div class="callbacks_container">
				<ul class="rslides" id="slider">
					<li>
						<img src="images/1.jpg" alt="">
					</li>
					<li>
						<img src="images/2.jpg" alt="">
					</li>
					<li>
						<img src="images/3.jpg" alt="">
					</li>
				</ul>
			</div>
		</div>
	</div>
</header>

<section id="container">
	<div class="wrap-container">
		<div class="zerogrid">
			<div class="row">
				<div id="main-content" class="col-2-3">
					<article>
								<div class="art-header">
									<div class="entry-title">
										<a href="#">JVM运行时的数据区</a>
									</div>
									<span>Posted on November 12, 2015</span>
								</div>
								<img src="images/1.jpg"/>
								<div class="art-content">
									<div class="excerpt"><p>理解JVM运行时的数据区是Java编程中的进阶部分。我们在开发中都遇到过一个很头疼的问题就是OutOfMemoryError（内存溢出错误），但是如果我们了解JVM的内部实现和其运行时的数据区的工作机制，那么前面的问题就会迎刃而解。在这片文章中，我们将简单了解JVM中有哪些运行时数据区以及这些数据区的工作机制。</p>
									<h2>JVM运行时数据区分类
</h2>
									<p>程序计数器 (Program Counter (PC) Register)
JVM栈 (Java Virtual Machine Stacks)
堆内存 (Heap Memory)
方法区 (Method Area)
运行时常量池 (Run-time Constant Pool)
本地方法栈 (Native Method Stacks)
</p>
									<h2>按线程持有划分
</h2>
									<p>查看上面的图，可以得知以上六个数据区其实线程私有还是共享，可以分为如下两种。

单个线程私有(Managed Per-Thread) 属于这一种的数据区包含 程序计数器， JVM栈还有本地方法栈。 每个线程都私有这三个数据区，这些数据区在其所属的线程创建时初始化，并随着所属线程结束被销毁。
多个线程共享 属于这一种的数据区包含 堆内存，方法区和运行时常量池。这些数据区可以被每一个线程访问，他们随着JVM启动而初始化，同时伴随JVM关闭而销毁。
</p>
									<h2>程序计数器</h2>
									<p>在通用的计算机体系中，程序计数器用来记录当前正在执行的指令，在JVM中也是如此。程序计数器是线程私有，所以当一个新的线程创建时，程序计数器也会创建。由于Java是支持多线程，Java中的程序计数器用来记录当前线程中正在执行的指令。如果当前正在执行的方法是本地方法，那么此刻程序计数器的值为undefined。注意这个区域是唯一一个不抛出OutOfMemoryError的运行时数据区。</p>

									<h2>JVM栈</h2>
									<p>在介绍JVM栈之前，简单介绍一个概念，栈帧</p>
									<h2>栈帧</h2>
									<p>一个栈帧随着一个方法的调用开始而创建，这个方法调用完成而销毁。栈帧内存放者方法中的局部变量，操作数栈等数据。

JVM栈只对栈帧进行存储，压栈和出栈操作。栈内存的大小可以有两种设置，固定值和根据线程需要动态增长。在JVM栈这个数据区可能会发生抛出两种错误。

StackOverflowError 出现在栈内存设置成固定值的时候，当程序执行需要的栈内存超过设定的固定值会抛出这个错误。
OutOfMemoryError 出现在栈内存设置成动态增长的时候，当JVM尝试申请的内存大小超过了其可用内存时会抛出这个错误。</p>


<h2>堆数据区</h2>
									<p>堆数据区是用来存放对象和数组（特殊的对象）。堆内存由多个线程共享。堆内存随着JVM启动而创建。众所周知，Java中有一个很好的特性就是自动垃圾回收。垃圾回收就操作这个数据区来回收对象进而释放内存。如果堆内存剩余的内存不足以满足于对象创建，JVM会抛出OutOfMemoryError错误。</p>


									<h2>方法区</h2>
									<p>在JVM规范中，方法区被视为堆内存的一个逻辑部分。这一点可能由于具体的JVM实现而不同，甚至在方法区不实现垃圾回收处理也是可以的。方法区和堆内存一样被多个线程访问，方法区中存放类的信息，比如类加载器引用，属性，方法代码和构造方法和常量等。当方法区的可用内存无法满足内存分配需求时，JVM会抛出OutOfMemoryError错误。</p>
									<h2>运行时常量池</h2>
									<p>运行时常量池创建在方法区，当一个类或者一个接口被创建的时候，JVM会创建一个运行时常量池。一个运行时常量池实际上是一个类或者接口的class文件中常量池表（constant_pool table）的运行时展示形式。一个运行时常量池包含了多种类型的常量，从诸如运行时可以确定的数值型字面量到运行时才能决定的方法和属性引用。当运行时常量池无法满足于内存分配需求时，JVM会抛出OutOfMemoryError错误。

</p>
<h2>本地方法栈</h2>
									<p>一个支持native方法调用的JVM实现，需要有这样一个数据区，就是本地方法栈，Java官方对于本地方法的定义为methods written in a language other than the Java programming language，就是使用非Java语言实现的方法，但是通常我们指的一般为C或者C++，因此这个栈也有着C栈这一称号。一个不支持本地方法执行的JVM没有必要实现这个数据区域。本地方法栈基本和JVM栈一样，其大小也是可以设置为固定值或者动态增加，因此也会对应抛出StackOverflowError和OutOfMemoryError错误。

</p>
									
								</div>
							</article>
				</div>
                <div class="copyrights">Collect from <a href="https://miichin.taobao.com/" >企业网站模板</a></div>
				<div id="sidebar" class="col-1-3">
					<!---- Start Widget ---->
					<div class="widget wid-about">
						<div class="wid-header">
							<h5>关于我</h5>
						</div>
						<div class="wid-content">
							<img src="images/10.jpg" />
							<p>我叫 cocoa ，一名程序员</p>
						</div>
					</div>
					<!---- Start Widget ---->
					<div class="widget wid-follow">
						<div class="wid-header">
							<h5>关注我</h5>
						</div>
						<div class="wid-content">
							<ul class="quick-link">
								<li><a href="https://github.com/cococa"><i class="fa fa-instagram"></i></a></li>
								<li><a href="https://github.com/cococa"><i class="fa fa-github"></i></a></li>
							</ul>
						</div>
					</div>
					<!---- Start Widget ---->
					<div class="widget wid-post">
						<div class="wid-header">
							<h5>推荐商品</h5>
						</div>
						<div class="wid-content">
							<div class="post">
								<div class="zoom-container">
									<a href="http://item.taobao.com/item.htm?id=561286641145">
										<img src="http://img.alicdn.com/imgextra/i3/628189716/TB14bgYbnlYBeNjSszcXXbwhFXa_!!0-item_pic.jpg" />
									</a>
								</div>
								<div class="wrapper">
									<div class="vid-name"><a href="http://item.taobao.com/item.htm?id=561286641145">
									满减【百草味-牛肉片100g】手撕牛肉干五香辣零食特产小吃</a></div>
								</div>
							</div>
							<div class="post">
								<div class="zoom-container">
									<a href="http://item.taobao.com/item.htm?id=539897385885">
										<img src="http://img.alicdn.com/imgextra/i4/725677994/TB1r5xdeZic_eJjSZFnXXXVwVXa_!!0-item_pic.jpg" />
									</a>
								</div>
								<div class="wrapper">
									<div class="vid-name"><a href="http://item.taobao.com/item.htm?id=539897385885">
									百草味烧烤味牛板筋125g 零食小吃牛肉干小包装牛筋牛肉熟食卤味</a></div>
								</div>
							</div>
							<div class="post">
								<div class="zoom-container">
									<a href="http://item.taobao.com/item.htm?id=539118158882">
										<img src="http://img.alicdn.com/imgextra/i2/628189716/TB1G1Xhb9CWBuNjy0FhXXb6EVXa_!!0-item_pic.jpg" />
									</a>
								</div>
								<div class="wrapper">
									<div class="vid-name"><a href="http://item.taobao.com/item.htm?id=539118158882">
									百草味-牛板筋125gx2袋】四川特产小吃牛肉干 麻辣味零食熟食</a></div>
								</div>
							</div>
							<div class="post">
								<div class="zoom-container">
									<a href="http://item.taobao.com/item.htm?id=539118158882">
										<img src="http://img.alicdn.com/imgextra/i2/628189716/TB1G1Xhb9CWBuNjy0FhXXb6EVXa_!!0-item_pic.jpg" />
									</a>
								</div>
								<div class="wrapper">
									<div class="vid-name"><a href="http://item.taobao.com/item.htm?id=539118158882">
									【百草味-牛板筋125gx2袋】四川特产小吃牛肉干 麻辣味零食熟食</a></div>
								</div>
							</div>
						</div>
					</div>
					<!---- Start Widget ---->
					
					<!---- Start Widget ---->
					
					<!---- Start Widget ---->
					<div class="widget wid-follow">
						<div class="wid-header">
							<h5>我的头像</h5>
						</div>
						<div class="wid-content">
							<div class="row">
								<div class="col-1-3">
									<div class="wrap-col">
										<a><img src="images/15.jpg" /></a>
										<a><img src="images/16.jpg" /></a>
										<a><img src="images/17.jpg" /></a>
									</div>
								</div>
								<div class="col-1-3">
									<div class="wrap-col">
										<a><img src="images/18.jpg" /></a>
										<a><img src="images/19.jpg" /></a>
										<a><img src="images/20.jpg" /></a>
									</div>
								</div>
								<div class="col-1-3">
									<div class="wrap-col">
										<a><img src="images/21.jpg" /></a>
										<a><img src="images/22.jpg" /></a>
										<a><img src="images/23.jpg" /></a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<footer>
	<div class="zerogrid">
		<div class="wrap-footer t-center">
			<div class="row">
				<div class="full">
					<ul class="quick-link">
						<li><a href="https://github.com/cococa"><i class="fa fa-instagram"></i></a></li>
						<li><a href="https://github.com/cococa"><i class="fa fa-github"></i></a></li>
					</ul>
					<div class="copy-right">
						<p>Copyright 2018 - youweier </p>
					</div>
				</div>
			</div>
		</div>
	</div>
</footer>


<script type="text/javascript">
    $(function() {
		if ($.browser.msie && $.browser.version.substr(0,1)<7)
		{
		$('li').has('ul').mouseover(function(){
			$(this).children('ul').css('visibility','visible');
			}).mouseout(function(){
			$(this).children('ul').css('visibility','hidden');
			})
		}

		/* Mobile */
		$("#menu-trigger").on("click", function(){
			$("#menu").slideToggle();
		});

		// iPad
		var isiPad = navigator.userAgent.match(/iPad/i) != null;
		if (isiPad) $('#menu ul').addClass('no-transition');      
    });          
</script>

</div>
</body></html>